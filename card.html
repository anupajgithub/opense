<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />

    <!-- Including jQuery and OwlCarousel -->
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
    />
    <style>
      @import url("https://fonts.googleapis.com/css?family=Poppins:400,500,600,700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      html,
      body {
        display: grid;
        height: 100%;
        place-items: center;
        text-align: center;
      }

      h1 {
        margin-bottom: 10px;
      }

      .slider {
        max-width: 1100px;
        display: flex;
      }

      .slider .card {
        flex: 1;
        margin: 0 10px;
        transition: transform 0.3s ease;
      }

      .slider .card .img {
        height: 250px;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .speech-bubble {
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        position: relative;
        background: #002855;
        border-radius: 15px;
        width: 300px;
        height: 200px;
      }

      /* Default bubble color */
      .speech-bubble.blue {
        background: #777f86;
      }

      /* Active middle card bubble */
      .speech-bubble.red {
        background: #002855;
      }

      .speech-bubble:after {
        content: "";
        position: absolute;
        bottom: 0;
        right: 0px;
        width: 0;
        height: 0;
        border: 84px solid transparent;
        border-top-color: #777f86;
        border-bottom: 0;
        border-right: 0;
        border-bottom-right-radius: 50px;
        border-bottom-left-radius: 112px;
        margin-bottom: -63px;
      }

      /* Change triangle color for center card */
      .speech-bubble.red:after {
        border-top-color: #002855;
      }

      /* Owl Carousel styling tweaks */
      .owl-carousel .owl-item {
        display: flex;
        justify-content: center;
      }

      .owl-carousel .owl-nav {
        display: none;
      }

      .owl-stage-outer {
        height: 320px;
      }

      /* Scale up the center card */
      .center-card {
        transform: scale(1.2);
        z-index: 1;
      }

      /* Custom Prev/Next buttons */
      .custom-nav {
        display: flex;
        justify-content: center;
        height: 20px;
        background-color: #c2eaea;
        justify-content: center;
        align-items: center;
        border-radius: 20px;
      }

      .custom-nav button {
        width: 12px;
        height: 12px;
        background: #777f86;
        border-radius: 50%;
        margin: 0 5px;
        transition: background 0.3s ease;
      }

      /* Button hover effect */
      .custom-nav button:hover {
        background-color: #00509e;
      }

      /* Responsive styling for speech bubbles */
      @media (max-width: 768px) {
        .slider {
          margin: 10;
          padding: 10px;
          max-width: 390px;
          display: flex;
        }
        .speech-bubble {
          width: 250px;
          height: 150px;
        }

        .center-card {
          transform: scale(1.1); /* Reduce scale for smaller screens */
        }
      }

      /* For mobile screens */
      @media (max-width: 480px) {
        .slider {
          margin: 10;
          padding: 10px;
          max-width: 390px;
          display: flex;
        }
        .speech-bubble {
          width: 200px;
          height: 120px;
        }

        .center-card {
          transform: scale(1.05); /* Slightly reduce scale */
        }
      }
    </style>
  </head>
  <body>
    <div style="font-size: larger">
      <h1 style="color: #002855">User Opinions</h1>
      <p>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis
        vitae exercitationem,
        <br />repudiandae consequuntur sunt deserunt ab odio magni nisi pariatur
        placeat totam, <br />necessitatibus odit, unde molestias dicta numquam
        quibusdam veniam.
      </p>
    </div>
    <div class="slider owl-carousel">
      <div class="card">
        <div class="img">
          <div class="speech-bubble blue">
            "Great service, highly recommend!"
          </div>
        </div>
      </div>
      <div class="card">
        <div class="img">
          <div class="speech-bubble blue">
            "Amazing experience, will come back."
          </div>
        </div>
      </div>
      <div class="card">
        <div class="img">
          <div class="speech-bubble blue">"Loved the product, 10/10!"</div>
        </div>
      </div>
      <div class="card">
        <div class="img">
          <div class="speech-bubble blue">"Would recommend to everyone!"</div>
        </div>
      </div>
      <div class="card">
        <div class="img">
          <div class="speech-bubble blue">"Fast delivery, great product!"</div>
        </div>
      </div>
      <div class="card">
        <div class="img">
          <div class="speech-bubble blue">"Fantastic customer service!"</div>
        </div>
      </div>
    </div>

    <!-- Custom Prev/Next Buttons -->
    <div class="custom-nav">
      <button id="prev"></button>
      <button id="next"></button>
    </div>

    <!-- Owl Carousel Script -->
    <script>
      // Initialize the Owl Carousel with smooth transition settings
      var owl = $(".slider").owlCarousel({
        loop: true,
        autoplay: true,
        autoplayTimeout: 3000,
        autoplayHoverPause: true,
        items: 3, // Always show 3 items
        margin: 10,
        center: true,
        dots: false, // Disable default dots
        smartSpeed: 1000, // Set transition speed to 1000ms (1 second)
        animateOut: "fadeOut",
        animateIn: "fadeIn",
        onInitialized: colorCenterCard,
        onTranslated: colorCenterCard,
      });

      // Custom Prev/Next navigation
      $("#prev").click(function () {
        owl.trigger("prev.owl.carousel");
      });

      $("#next").click(function () {
        owl.trigger("next.owl.carousel");
      });

      // Function to color the center card and scale it up
      function colorCenterCard(event) {
        $(".speech-bubble").removeClass("red").addClass("blue");
        $(".owl-item .card").removeClass("center-card");

        var centerIndex = event.item.index + Math.floor(event.page.size / 2);
        var centerCard = $(".owl-item").eq(centerIndex).find(".speech-bubble");
        var centerCardItem = $(".owl-item").eq(centerIndex).find(".card");

        centerCard.removeClass("blue").addClass("red");
        centerCardItem.addClass("center-card");
      }
    </script>
  </body>
</html>
